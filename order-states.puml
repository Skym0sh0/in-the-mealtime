@startuml
[*] --> NeueBestellung : Erzeuge

NeueBestellung -->[*]: Manuell Löschen
NeueBestellung --> [*]: nach Zeit Ablauf

NeueBestellung --> OffeneBestellung : OrderPosition hinzufügen
OffeneBestellung --> OffeneBestellung : OrderPosition hinzufügen oder bearbeiten
OffeneBestellung --> [*]: nach Zeit Ablauf

OffeneBestellung --> NeueBestellung: Letzte OrderPosition löschen

OffeneBestellung --> GesperrteBestellung : Versuchen zu bestellen
GesperrteBestellung --> OffeneBestellung : Zeitlimit vergangen
GesperrteBestellung --> OffeneBestellung : Manuell wieder eröffnet
GesperrteBestellung --> BestellteBestellung: Bestellung erfolgreich

OffeneBestellung --> ZurückgezogeneBestellung : Zurückziehen
GesperrteBestellung --> ZurückgezogeneBestellung : Zurückziehen
ZurückgezogeneBestellung --> [*] : nach Zeit Ablauf

BestellteBestellung --> EingetroffeneBestellung : Manuelle Benachrichtigung
BestellteBestellung --> EingetroffeneBestellung: nach Zeit Ablauf

BestellteBestellung --> ZurückgezogeneBestellung : Manuelles Zurückziehen
EingetroffeneBestellung --> ArchivierteBestellung: nach Zeit Ablauf

ArchivierteBestellung --> [*] : nach Zeit Ablauf

@enduml